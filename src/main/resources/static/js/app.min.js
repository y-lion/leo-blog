"use strict";
$(window).on("load", function() {
	setTimeout(function() {
		$(".page-loader").fadeOut()
	}, 500)
}), $(document).ready(function() {
	$("body").on("change", ".theme-switch input:radio", function() {
		var a = $(this).val();
		$("body").attr("data-ma-theme", a)
	}), $("body").on("focus", ".search__text", function() {
		$(this).closest(".search").addClass("search--focus")
	}), $("body").on("blur", ".search__text", function() {
		$(this).val(""), $(this).closest(".search").removeClass("search--focus")
	}), $("body").on("click", ".navigation__sub > a", function(a) {
		a.preventDefault(), $(this).parent().toggleClass("navigation__sub--toggled"), $(this).next("ul").slideToggle(250)
	}), $(".form-group--float")[0] && ($(".form-group--float").each(function() {
		0 == !$(this).find(".form-control").val().length && $(this).find(".form-control").addClass("form-control--active")
	}), $("body").on("blur", ".form-group--float .form-control", function() {
		0 == $(this).val().length ? $(this).removeClass("form-control--active") : $(this).addClass("form-control--active")
	}))
}), $(document).ready(function() {
	function a(a) {
		a.requestFullscreen ? a.requestFullscreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullscreen ? a.webkitRequestFullscreen() : a.msRequestFullscreen && a.msRequestFullscreen()
	}
	$("body").on("click", "[data-ma-action]", function(b) {
		b.preventDefault();
		var c = $(this),
			d = c.data("ma-action"),
			e = "";
		switch (d) {
			case "search-open":
				$(".search").addClass("search--toggled");
				break;
			case "search-close":
				$(".search").removeClass("search--toggled");
				break;
			case "aside-open":
				e = c.data("ma-target"), c.addClass("toggled"), $(e).addClass("toggled"), $(".content, .header").append('<div class="ma-backdrop" data-ma-action="aside-close" data-ma-target=' + e + " />");
				break;
			case "aside-close":
				e = c.data("ma-target"), $('[data-ma-action="aside-open"], ' + e).removeClass("toggled"), $(".content, .header").find(".ma-backdrop").remove();
				break;
			case "fullscreen":
				a(document.documentElement);
				break;
			case "print":
				window.print();
				break;
			case "clear-localstorage":
				swal({
					title: "Are you sure?",
					text: "This can not be undone!",
					type: "warning",
					showCancelButton: !0,
					confirmButtonColor: "#3085d6",
					confirmButtonText: "Yes, clear it",
					cancelButtonText: "No, cancel"
				}).then(function() {
					localStorage.clear(), swal("Cleared!", "Local storage has been successfully cleared", "success")
				});
				break;
			case "login-switch":
				e = c.data("ma-target"), $(".login__block").removeClass("active"), $(e).addClass("active");
				break;
			case "notifications-clear":
				b.stopPropagation();
				var f = $(".top-nav__notifications .listview__item"),
					g = f.length,
					h = 0;
				c.fadeOut(), f.each(function() {
					var a = $(this);
					setTimeout(function() {
						a.addClass("animated fadeOutRight")
					}, h += 150)
				}), setTimeout(function() {
					f.remove(), $(".top-nav__notifications").addClass("top-nav__notifications--cleared")
				}, 180 * g);
				break;
			case "toolbar-search-open":
				$(this).closest(".toolbar").find(".toolbar__search").fadeIn(200), $(this).closest(".toolbar").find(".toolbar__search input").focus();
				break;
			case "toolbar-search-close":
				$(this).closest(".toolbar").find(".toolbar__search input").val(""), $(this).closest(".toolbar").find(".toolbar__search").fadeOut(200)
		}
	})
});
